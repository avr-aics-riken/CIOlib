/*
 * CIOlib - Cartesian Input / Output library
 *
 * Copyright (c) 2013 Advanced Institute for Computational Science, RIKEN.
 * All rights reserved.
 *
 */


SOFTWARE REQUIREMENT
====================

- MPI library
- Text parsing library




HOW TO COMPILE
==============

1. with configure

$ ./configure [options]
$ make
# make install



Configure options:

 --host=hostname
    Specify in case of cross-compilation.

 --prefix=INSTALL_DIR
    Specify a directory to be installed. The default directory is /usr/local/CIOlib.

 --with-comp=(INTEL|FJ)
    If Intel compiler is used, choose INTEL, and if Fujitsu compiler, specify FJ. 
    This option is mandatory when using both compilers.
    
 --with-mpich=MPICH_DIR
    If you will use the MPICH library, specify the directory that MPICH library is 
    installed. Either --with-mpich or --with-ompi option will be required except using 
    a wrapper compiler. If the wrapper compiler, e.g., mpic++ or mpicxx is used to
    compile, both options can be eliminated.

 --with-ompi=OPENMPI_DIR
    If the OpenMPI library is used, specify the directory path.

 --with-parser=TEXTPARSER_PATH
    Specify the directory path that TextParser library is installed.

 --with-precision=(single|double)
    Specify the REAL macro by selecting single(4bytes) or double(8bytes). If this 
    option is omitted, single precision will be applied.

 --without-MPI=(yes|no)
    If you compile CIO library for parallel environment with MPI library, specify 'yes',
    otherwise 'no'.
    
    
 CXX=CXX_COMPILER
   Specify C++ compiler or a wrapper compiler for MPI. If a wrapper compiler is specified, 
   set string as CXX=mpiCC without directory prefix. To do so, please set path before
   compilation.

 CXXFLAGS=CXX_OPTIONS
    Specify C++ compiler options.

 F90=FORTRAN90_COMPILER
    Specify fortran90 compiler.

 F90FLAGS=FORTRAN90_OPTIONS
    Specify fortran90 compiler options.


Here is examples. 

## for the combination of Intel compiler and OpenMPI.

  $ ./configure --with-ompi=/opt/openmpi \
                --with-parser=/usr/local/TextParser \
                --with-comp=INTEL \
                CXX=icpc \
                CXXFLAGS="-O3 -Wall" \
                F90=ifort \
                F90FLAGS=-O3


## OpenMPI with wrapper compiler, assume that mpicxx is a wrapper compiler for OpenMPI.

  $ ./configure --with-comp=INTEL --with-parser=/usr/local/TextParser CXX=mpicxx CXXFLAGS=-O3


## K-computer

  $ ./configure --prefix=$1 \
                --with-parser=hoge \
                --host=sparc64-unknown-linux-gnu \
                --with-comp=FJ \
                CXX=mpiFCCpx \
                CXXFLAGS=-Kfast \
                F90=mpifrtpx \
                F90FLAGS=-Kfast


2. Hand compile

If a provided configure does not work, use Makefile_hand to build this library. At first,
edit MACRO to tell your machine environment.

